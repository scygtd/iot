(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[61],{XCpw:function(e,l,t){"use strict";var a=t("tAuX"),d=t("g09b");Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,t("14J3");var u=d(t("BMrR"));t("OaEy");var n=d(t("2fM7"));t("5Dmo");var i=d(t("3S7+"));t("5NDa");var f=d(t("5rEg"));t("giR+");var r=d(t("fyUT"));t("y8nQ");var m=d(t("Vl3Y"));t("jCWc");var s=d(t("kPKH")),o=d(t("qIgq")),c=a(t("q1tI")),p=d(t("dRV3")),E=function(e){var l,t=e.form,a=e.form.getFieldDecorator,d=e.metadata,E=JSON.parse(d),v=E.properties,g=(0,c.useState)(),y=(0,o.default)(g,2),b=y[0],w=y[1],x=null===(l=e.data)||void 0===l?void 0:l.config,h=function(){var e;return t.validateFields(function(l,t){l||(e=t)}),e};(0,c.useEffect)(function(){var l,t;(e.save&&e.save(function(){return h()}),e.data)&&w(null===(l=e.data)||void 0===l?void 0:null===(t=l.config)||void 0===t?void 0:t.dimension)},[]);var I=function(){return"history"===b?c.default.createElement(c.default.Fragment,null,c.default.createElement(s.default,{xl:{span:10,offset:2},lg:{span:8},md:{span:12},sm:24},c.default.createElement(m.default.Item,{label:"\u6570\u636e\u91cf"},a("history",{initialValue:(null===x||void 0===x?void 0:x.history)||30,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6570\u636e\u91cf"}]})(c.default.createElement(r.default,{style:{width:"100%"}})))),c.default.createElement(s.default,{xl:{span:10,offset:2},lg:{span:10},md:{span:24},sm:24},c.default.createElement(m.default.Item,{label:"\u65f6\u95f4\u683c\u5f0f"},a("timeFormat",{initialValue:(null===x||void 0===x?void 0:x.timeFormat)||"yyyy-MM-dd",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u65f6\u95f4\u683c\u5f0f"}]})(c.default.createElement(f.default,null)))),c.default.createElement(s.default,{xl:{span:22,offset:2},lg:{span:8},md:{span:12},sm:24},c.default.createElement(i.default,{title:"now\u8868\u793a\u5f53\u524d\u65f6\u95f4\uff0c\u5982\uff1anow-30d"},c.default.createElement(m.default.Item,{label:"\u65f6\u95f4\u8303\u56f4",style:{marginBottom:0}},c.default.createElement(m.default.Item,{style:{display:"inline-block",width:"calc(50% - 12px)"}},a("from",{initialValue:(null===x||void 0===x?void 0:x.from)||"now-7d",rules:[{required:!0}]})(c.default.createElement(f.default,null))),c.default.createElement("span",{style:{display:"inline-block",width:"24px",textAlign:"center"}},"-"),c.default.createElement(m.default.Item,{style:{display:"inline-block",width:"calc(50% - 12px)"}},a("to",{initialValue:null===x||void 0===x?void 0:x.to})(c.default.createElement(f.default,null))))))):"agg"===b?c.default.createElement(c.default.Fragment,null,c.default.createElement(s.default,{xl:{span:10,offset:2},lg:{span:8},md:{span:12},sm:24},c.default.createElement(m.default.Item,{label:"\u6570\u636e\u91cf"},a("limit",{initialValue:(null===x||void 0===x?void 0:x.limit)||30,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6570\u636e\u91cf"}]})(c.default.createElement(r.default,{style:{width:"100%"}})))),c.default.createElement(s.default,{xl:{span:10,offset:2},lg:{span:10},md:{span:24},sm:24},c.default.createElement(m.default.Item,{label:"\u805a\u5408\u7c7b\u578b"},a("agg",{initialValue:(null===x||void 0===x?void 0:x.agg)||"avg",rules:[{required:!0}]})(c.default.createElement(n.default,null,c.default.createElement(n.default.Option,{value:"avg"},"AVG"),c.default.createElement(n.default.Option,{value:"sum"},"SUM"),c.default.createElement(n.default.Option,{value:"count"},"COUNT"),c.default.createElement(n.default.Option,{value:"max"},"MAX"),c.default.createElement(n.default.Option,{value:"min"},"MIN"))))),c.default.createElement(s.default,{xl:{span:22,offset:2},lg:{span:8},md:{span:12},sm:24},c.default.createElement(i.default,{title:"now\u8868\u793a\u5f53\u524d\u65f6\u95f4\uff0c\u5982\uff1anow-30d"},c.default.createElement(m.default.Item,{label:"\u65f6\u95f4\u8303\u56f4",style:{marginBottom:0}},c.default.createElement(m.default.Item,{style:{display:"inline-block",width:"calc(50% - 12px)"}},a("from",{initialValue:(null===x||void 0===x?void 0:x.from)||"now-30d"})(c.default.createElement(f.default,null))),c.default.createElement("span",{style:{display:"inline-block",width:"24px",textAlign:"center"}},"-"),c.default.createElement(m.default.Item,{style:{display:"inline-block",width:"calc(50% - 12px)"}},a("to",{initialValue:(null===x||void 0===x?void 0:x.to)||"now"})(c.default.createElement(f.default,null)))))),c.default.createElement(s.default,{xl:{span:10,offset:2},lg:{span:8},md:{span:12},sm:24},c.default.createElement(i.default,{title:"M:\u6708\u3001d:\u5929\u3001h:\u5c0f\u65f6\u3001m:\u5206\u949f\u3001"},c.default.createElement(m.default.Item,{label:"\u65f6\u95f4\u95f4\u9694"},a("time",{initialValue:(null===x||void 0===x?void 0:x.time)||"1d",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u65f6\u95f4\u95f4\u9694"}]})(c.default.createElement(f.default,null))))),c.default.createElement(s.default,{xl:{span:10,offset:2},lg:{span:10},md:{span:24},sm:24},c.default.createElement(m.default.Item,{label:"\u65f6\u95f4\u683c\u5f0f"},a("format",{initialValue:(null===x||void 0===x?void 0:x.format)||"yyyy-MM-dd",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u65f6\u95f4\u683c\u5f0f"}]})(c.default.createElement(f.default,null))))):"realTime"===b?c.default.createElement(c.default.Fragment,null,c.default.createElement(s.default,{xl:{span:22,offset:2},lg:{span:8},md:{span:12},sm:24},c.default.createElement(m.default.Item,{label:"\u6570\u636e\u91cf"},a("history",{initialValue:(null===x||void 0===x?void 0:x.history)||30,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6570\u636e\u91cf"}]})(c.default.createElement(r.default,{style:{width:"100%"}}))))):null};return c.default.createElement(m.default,{className:p.default.configForm},c.default.createElement(u.default,{gutter:16},c.default.createElement(s.default,{lg:22,push:2,md:12,sm:24},c.default.createElement(m.default.Item,{label:"\u540d\u79f0"},a("name",{initialValue:null===x||void 0===x?void 0:x.name,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u540d\u79f0"}]})(c.default.createElement(f.default,null)))),c.default.createElement(s.default,{xl:{span:10,offset:2},lg:{span:8},md:{span:12},sm:24},c.default.createElement(m.default.Item,{label:"X\u8f74"},a("x",{initialValue:(null===x||void 0===x?void 0:x.x)||"\u65f6\u95f4",rules:[{required:!0,message:"\u8bf7\u8f93\u5165X\u8f74\u540d\u79f0"}]})(c.default.createElement(f.default,{placeholder:"X\u8f74\u540d\u79f0"})))),c.default.createElement(s.default,{xl:{span:10,offset:2},lg:{span:10},md:{span:24},sm:24},c.default.createElement(m.default.Item,{label:"Y\u8f74"},a("y",{initialValue:(null===x||void 0===x?void 0:x.y)||"\u503c",rules:[{required:!0,message:"\u8bf7\u8f93\u5165Y\u8f74\u540d\u79f0"}]})(c.default.createElement(f.default,{placeholder:"Y\u8f74\u540d\u79f0"})))),c.default.createElement(s.default,{xl:{span:10,offset:2},lg:{span:8},md:{span:12},sm:24},c.default.createElement(m.default.Item,{label:"\u5c5e\u6027"},a("measurement",{initialValue:null===x||void 0===x?void 0:x.measurement,rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u5c5e\u6027"}]})(c.default.createElement(n.default,{style:{width:"100%"}},v.map(function(e){return c.default.createElement(n.default.Option,{key:e.id,value:e.id},e.name)}))))),c.default.createElement(s.default,{xl:{span:10,offset:2},lg:{span:10},md:{span:24},sm:24},c.default.createElement(m.default.Item,{label:"\u7c7b\u578b"},a("dimension",{initialValue:null===x||void 0===x?void 0:x.dimension,rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6570\u636e\u7c7b\u578b"}]})(c.default.createElement(n.default,{onChange:function(e){return w(e)}},c.default.createElement(n.default.Option,{value:"history"},"\u5386\u53f2\u6570\u636e"),c.default.createElement(n.default.Option,{value:"agg"},"\u805a\u5408\u6570\u636e"),c.default.createElement(n.default.Option,{value:"realTime"},"\u5b9e\u65f6\u6570\u636e")))))),I())},v=m.default.create()(E);l.default=v}}]);