(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[44],{XCpw:function(e,l,t){"use strict";var a=t("fbTi"),d=t("mZ4U");Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,t("NWD0");var u=d(t("2L3m"));t("yuUY");var n=d(t("2n5t"));t("6/yB");var i=d(t("SE39"));t("nPjb");var f=d(t("nKmx"));t("9aVi");var m=d(t("aLG4"));t("C1KP");var r=d(t("d6B9"));t("4ADO");var s=d(t("wty1")),o=d(t("cO38")),c=a(t("xwgP")),p=d(t("dRV3")),E=function(e){var l,t=e.form,a=e.form.getFieldDecorator,d=e.metadata,E=JSON.parse(d),v=E.properties,g=(0,c.useState)(),y=(0,o.default)(g,2),w=y[0],x=y[1],b=null===(l=e.data)||void 0===l?void 0:l.config,h=function(){var e;return t.validateFields(function(l,t){l||(e=t)}),e};(0,c.useEffect)(function(){var l,t;(e.save&&e.save(function(){return h()}),e.data)&&x(null===(l=e.data)||void 0===l?void 0:null===(t=l.config)||void 0===t?void 0:t.dimension)},[]);var I=function(){return"history"===w?c.default.createElement(c.default.Fragment,null,c.default.createElement(s.default,{xl:{span:10,offset:2},lg:{span:8},md:{span:12},sm:24},c.default.createElement(r.default.Item,{label:"\u6570\u636e\u91cf"},a("history",{initialValue:(null===b||void 0===b?void 0:b.history)||30,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6570\u636e\u91cf"}]})(c.default.createElement(m.default,{style:{width:"100%"}})))),c.default.createElement(s.default,{xl:{span:10,offset:2},lg:{span:10},md:{span:24},sm:24},c.default.createElement(r.default.Item,{label:"\u65f6\u95f4\u683c\u5f0f"},a("timeFormat",{initialValue:(null===b||void 0===b?void 0:b.timeFormat)||"yyyy-MM-dd",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u65f6\u95f4\u683c\u5f0f"}]})(c.default.createElement(f.default,null)))),c.default.createElement(s.default,{xl:{span:22,offset:2},lg:{span:8},md:{span:12},sm:24},c.default.createElement(i.default,{title:"now\u8868\u793a\u5f53\u524d\u65f6\u95f4\uff0c\u5982\uff1anow-30d"},c.default.createElement(r.default.Item,{label:"\u65f6\u95f4\u8303\u56f4",style:{marginBottom:0}},c.default.createElement(r.default.Item,{style:{display:"inline-block",width:"calc(50% - 12px)"}},a("from",{initialValue:(null===b||void 0===b?void 0:b.from)||"now-7d",rules:[{required:!0}]})(c.default.createElement(f.default,null))),c.default.createElement("span",{style:{display:"inline-block",width:"24px",textAlign:"center"}},"-"),c.default.createElement(r.default.Item,{style:{display:"inline-block",width:"calc(50% - 12px)"}},a("to",{initialValue:null===b||void 0===b?void 0:b.to})(c.default.createElement(f.default,null))))))):"agg"===w?c.default.createElement(c.default.Fragment,null,c.default.createElement(s.default,{xl:{span:10,offset:2},lg:{span:8},md:{span:12},sm:24},c.default.createElement(r.default.Item,{label:"\u6570\u636e\u91cf"},a("limit",{initialValue:(null===b||void 0===b?void 0:b.limit)||30,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6570\u636e\u91cf"}]})(c.default.createElement(m.default,{style:{width:"100%"}})))),c.default.createElement(s.default,{xl:{span:10,offset:2},lg:{span:10},md:{span:24},sm:24},c.default.createElement(r.default.Item,{label:"\u805a\u5408\u7c7b\u578b"},a("agg",{initialValue:(null===b||void 0===b?void 0:b.agg)||"avg",rules:[{required:!0}]})(c.default.createElement(n.default,null,c.default.createElement(n.default.Option,{value:"avg"},"AVG"),c.default.createElement(n.default.Option,{value:"sum"},"SUM"),c.default.createElement(n.default.Option,{value:"count"},"COUNT"),c.default.createElement(n.default.Option,{value:"max"},"MAX"),c.default.createElement(n.default.Option,{value:"min"},"MIN"))))),c.default.createElement(s.default,{xl:{span:22,offset:2},lg:{span:8},md:{span:12},sm:24},c.default.createElement(i.default,{title:"now\u8868\u793a\u5f53\u524d\u65f6\u95f4\uff0c\u5982\uff1anow-30d"},c.default.createElement(r.default.Item,{label:"\u65f6\u95f4\u8303\u56f4",style:{marginBottom:0}},c.default.createElement(r.default.Item,{style:{display:"inline-block",width:"calc(50% - 12px)"}},a("from",{initialValue:(null===b||void 0===b?void 0:b.from)||"now-30d"})(c.default.createElement(f.default,null))),c.default.createElement("span",{style:{display:"inline-block",width:"24px",textAlign:"center"}},"-"),c.default.createElement(r.default.Item,{style:{display:"inline-block",width:"calc(50% - 12px)"}},a("to",{initialValue:(null===b||void 0===b?void 0:b.to)||"now"})(c.default.createElement(f.default,null)))))),c.default.createElement(s.default,{xl:{span:10,offset:2},lg:{span:8},md:{span:12},sm:24},c.default.createElement(i.default,{title:"M:\u6708\u3001d:\u5929\u3001h:\u5c0f\u65f6\u3001m:\u5206\u949f\u3001"},c.default.createElement(r.default.Item,{label:"\u65f6\u95f4\u95f4\u9694"},a("time",{initialValue:(null===b||void 0===b?void 0:b.time)||"1d",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u65f6\u95f4\u95f4\u9694"}]})(c.default.createElement(f.default,null))))),c.default.createElement(s.default,{xl:{span:10,offset:2},lg:{span:10},md:{span:24},sm:24},c.default.createElement(r.default.Item,{label:"\u65f6\u95f4\u683c\u5f0f"},a("format",{initialValue:(null===b||void 0===b?void 0:b.format)||"yyyy-MM-dd",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u65f6\u95f4\u683c\u5f0f"}]})(c.default.createElement(f.default,null))))):"realTime"===w?c.default.createElement(c.default.Fragment,null,c.default.createElement(s.default,{xl:{span:22,offset:2},lg:{span:8},md:{span:12},sm:24},c.default.createElement(r.default.Item,{label:"\u6570\u636e\u91cf"},a("history",{initialValue:(null===b||void 0===b?void 0:b.history)||30,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6570\u636e\u91cf"}]})(c.default.createElement(m.default,{style:{width:"100%"}}))))):null};return c.default.createElement(r.default,{className:p.default.configForm},c.default.createElement(u.default,{gutter:16},c.default.createElement(s.default,{lg:22,push:2,md:12,sm:24},c.default.createElement(r.default.Item,{label:"\u540d\u79f0"},a("name",{initialValue:null===b||void 0===b?void 0:b.name,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u540d\u79f0"}]})(c.default.createElement(f.default,null)))),c.default.createElement(s.default,{xl:{span:10,offset:2},lg:{span:8},md:{span:12},sm:24},c.default.createElement(r.default.Item,{label:"X\u8f74"},a("x",{initialValue:(null===b||void 0===b?void 0:b.x)||"\u65f6\u95f4",rules:[{required:!0,message:"\u8bf7\u8f93\u5165X\u8f74\u540d\u79f0"}]})(c.default.createElement(f.default,{placeholder:"X\u8f74\u540d\u79f0"})))),c.default.createElement(s.default,{xl:{span:10,offset:2},lg:{span:10},md:{span:24},sm:24},c.default.createElement(r.default.Item,{label:"Y\u8f74"},a("y",{initialValue:(null===b||void 0===b?void 0:b.y)||"\u503c",rules:[{required:!0,message:"\u8bf7\u8f93\u5165Y\u8f74\u540d\u79f0"}]})(c.default.createElement(f.default,{placeholder:"Y\u8f74\u540d\u79f0"})))),c.default.createElement(s.default,{xl:{span:10,offset:2},lg:{span:8},md:{span:12},sm:24},c.default.createElement(r.default.Item,{label:"\u5c5e\u6027"},a("measurement",{initialValue:null===b||void 0===b?void 0:b.measurement,rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u5c5e\u6027"}]})(c.default.createElement(n.default,{style:{width:"100%"}},v.map(function(e){return c.default.createElement(n.default.Option,{key:e.id,value:e.id},e.name)}))))),c.default.createElement(s.default,{xl:{span:10,offset:2},lg:{span:10},md:{span:24},sm:24},c.default.createElement(r.default.Item,{label:"\u7c7b\u578b"},a("dimension",{initialValue:null===b||void 0===b?void 0:b.dimension,rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6570\u636e\u7c7b\u578b"}]})(c.default.createElement(n.default,{onChange:function(e){return x(e)}},c.default.createElement(n.default.Option,{value:"history"},"\u5386\u53f2\u6570\u636e"),c.default.createElement(n.default.Option,{value:"agg"},"\u805a\u5408\u6570\u636e"),c.default.createElement(n.default.Option,{value:"realTime"},"\u5b9e\u65f6\u6570\u636e")))))),I())},v=r.default.create()(E);l.default=v}}]);