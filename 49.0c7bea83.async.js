(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[49],{YmNe:function(e,t,a){"use strict";var l=a("mZ4U");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("NWD0");var u=l(a("2L3m"));a("yuUY");var n=l(a("2n5t"));a("nPjb");var r=l(a("nKmx"));a("C1KP");var d=l(a("d6B9"));a("4ADO");var f=l(a("wty1")),i=l(a("cO38")),c=m(a("xwgP")),o=l(a("dRV3"));function s(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(s=function(e){return e?a:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var a=s(t);if(a&&a.has(e))return a.get(e);var l={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var r=u?Object.getOwnPropertyDescriptor(e,n):null;r&&(r.get||r.set)?Object.defineProperty(l,n,r):l[n]=e[n]}return l.default=e,a&&a.set(e,l),l}var p=function(e){var t=e.form,a=e.form.getFieldDecorator,l=e.metadata,s=(0,c.useState)(void 0),m=(0,i.default)(s,2),p=m[0],v=m[1],E=(0,c.useState)(void 0),y=(0,i.default)(E,2),g=y[0],h=y[1],w=(0,c.useState)(void 0),O=(0,i.default)(w,2),b=O[0],P=O[1],j=function(){var e;return t.validateFields(function(t,a){t||(e=a)}),e};(0,c.useEffect)(function(){e.save&&e.save(function(){return j()}),e.data},[]);var k=function(){switch(p){case"input":return c.default.createElement(f.default,{lg:22,push:2,md:12,sm:24},c.default.createElement(d.default.Item,{label:"\u89c6\u9891\u6e90"},a("url",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6570\u636e\u7c7b\u578b"}]})(c.default.createElement(r.default.TextArea,{rows:3}))));case"switch":return c.default.createElement(f.default,{lg:22,push:2,md:12,sm:24},c.default.createElement(d.default.Item,{label:"\u6765\u6e90\u7c7b\u578b"},a("source",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6570\u636e\u7c7b\u578b"}]})(c.default.createElement(n.default,{style:{width:"100%"},onChange:function(e){return h(e)}},c.default.createElement(n.default.Option,{value:"property"},"\u5c5e\u6027"),c.default.createElement(n.default.Option,{value:"function"},"\u529f\u80fd")))));default:return null}},q=function(){switch(g){case"property":return c.default.createElement(f.default,{lg:22,push:2,md:12,sm:24},c.default.createElement(d.default.Item,{label:"\u6765\u6e90\u5c5e\u6027"},a("property",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6570\u636e\u7c7b\u578b"}]})(c.default.createElement(n.default,{style:{width:"100%"},onChange:function(e){var t=JSON.parse(l).properties.find(function(t){return t.id===e});P(t)}},JSON.parse(l).properties.map(function(e){return c.default.createElement(n.default.Option,{key:e.id,value:e.id},"".concat(e.name,"(").concat(e.id,")"))})))));case"function":return c.default.createElement(f.default,{lg:22,push:2,md:12,sm:24},c.default.createElement(d.default.Item,{label:"\u6765\u6e90\u529f\u80fd"},a("function",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6570\u636e\u7c7b\u578b"}]})(c.default.createElement(n.default,{style:{width:"100%"},onChange:function(e){var t=JSON.parse(l).functions.find(function(t){return t.id===e});P(t)}},JSON.parse(l).functions.map(function(e){return c.default.createElement(n.default.Option,{key:e.id,value:e.id},"".concat(e.name,"(").concat(e.id,")"))})))));default:return null}},I=function(){var e,t;if("property"===g)e=null===b||void 0===b?void 0:null===(t=b.valueType)||void 0===t?void 0:t.type;else if("function"===g){var l;e=null===b||void 0===b?void 0:null===(l=b.output)||void 0===l?void 0:l.type}switch(e){case"object":return c.default.createElement(f.default,{lg:22,push:2,md:12,sm:24},c.default.createElement(d.default.Item,{label:"\u7ed3\u679c"},a("target",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6570\u636e\u7c7b\u578b"}]})(c.default.createElement(n.default,{style:{width:"100%"}},null===b||void 0===b?void 0:b.valueType.properties.map(function(e){return c.default.createElement(n.default.Option,{key:e.id,value:e.id},"".concat(e.name,"(").concat(e.id,")"))})))));case"string":return null;default:return c.default.createElement("span",null,"\u6682\u4e0d\u652f\u6301")}};return c.default.createElement(d.default,{className:o.default.configForm},c.default.createElement(u.default,{gutter:16},c.default.createElement(f.default,{lg:22,push:2,md:12,sm:24},c.default.createElement(d.default.Item,{label:"\u540d\u79f0"},a("name",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u540d\u79f0"}]})(c.default.createElement(r.default,null)))),c.default.createElement(f.default,{lg:22,push:2,md:12,sm:24},c.default.createElement(d.default.Item,{label:"\u89c6\u9891\u7c7b\u578b"},a("type",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u5c5e\u6027"}]})(c.default.createElement(n.default,{style:{width:"100%"}},c.default.createElement(n.default.Option,{value:"rtmp"},"RTMP"),c.default.createElement(n.default.Option,{value:"mp4"},"MP4"))))),c.default.createElement(f.default,{lg:22,push:2,md:12,sm:24},c.default.createElement(d.default.Item,{label:"\u89c6\u9891\u6e90"},a("urlType",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6570\u636e\u7c7b\u578b"}]})(c.default.createElement(n.default,{style:{width:"100%"},onChange:function(e){return v(e)}},c.default.createElement(n.default.Option,{value:"input"},"\u624b\u52a8\u8f93\u5165"),c.default.createElement(n.default.Option,{value:"switch"},"\u8bbe\u5907\u83b7\u53d6"))))),p&&k(),"switch"===p&&g&&q(),"switch"===p&&b&&I()))},v=d.default.create()(p);t.default=v}}]);