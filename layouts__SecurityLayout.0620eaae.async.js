(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[10],{"0jlH":function(e,t,n){"use strict";var i=n("fbTi"),r=n("mZ4U");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=r(n("cO38")),o=i(n("xwgP")),u=n("8ur3"),a=n("4mPf"),s=n("/ENq"),l=n("XuRK"),f=n("N8P2"),d=function(e){var t=e.dispatch,n=e.settings,i=(0,o.useState)(!1),r=(0,c.default)(i,2),u=r[0],d=r[1],g=e.children,p=e.loading,w=!!localStorage.getItem("x-access-token");(0,l.stringify)({redirect:window.location.href});(0,o.useEffect)(function(){d(!0),t&&t({type:"user/fetchCurrent"})},[]),(0,o.useEffect)(function(){t&&t({type:"settings/fetchConfig",callback:function(){document.getElementById("title-icon").href=n.titleIcon,d(!0)}})},[n.title]);var m=function(){return w&&(0,f.initWebSocket)(),!w&&p||!u?o.default.createElement(a.PageLoading,null):w?g:o.default.createElement(s.Redirect,{to:"/user/login"})};return m()},g=(0,u.connect)(function(e){var t=e.user,n=e.settings,i=e.loading;return{currentUser:t.currentUser,settings:n,loading:i.models.user}})(d);t.default=g}}]);